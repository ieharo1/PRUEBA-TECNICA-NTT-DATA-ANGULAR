<div class="card-container">
  <div class="form-card">
    <h2>Editar Producto</h2>
    <div *ngIf="loading">Cargando...</div>
    <div *ngIf="errorMessage" class="error-msg">{{ errorMessage }}</div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!loading">
      <div class="form-row">
        <div class="form-group">
          <label for="id">ID</label>
          <input id="id" formControlName="id" />
        </div>
        <div class="form-group">
          <label for="name">Nombre</label>
          <input id="name" formControlName="name" />
          <div *ngIf="f['name'].touched && f['name'].invalid" class="error-msg">
            <small *ngIf="f['name'].errors?.['required']">Nombre es obligatorio.</small>
            <small *ngIf="f['name'].errors?.['minlength']">Mínimo 3 caracteres.</small>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="description">Descripción</label>
          <textarea id="description" formControlName="description"></textarea>
          <div *ngIf="f['description'].touched && f['description'].invalid" class="error-msg">
            <small *ngIf="f['description'].errors?.['required']">Descripción es obligatoria.</small>
            <small *ngIf="f['description'].errors?.['minlength']">Mínimo 5 caracteres.</small>
          </div>
        </div>
        <div class="form-group">
          <label for="logo">Logo URL</label>
          <input id="logo" formControlName="logo" />
          <div *ngIf="f['logo'].touched && f['logo'].invalid" class="error-msg">
            <small *ngIf="f['logo'].errors?.['required']">Logo es obligatorio.</small>
            <small *ngIf="f['logo'].errors?.['pattern']">Debe ser una URL válida.</small>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="date_release">Fecha de lanzamiento</label>
          <input type="date" id="date_release" formControlName="date_release" />
          <div *ngIf="f['date_release'].touched && f['date_release'].invalid" class="error-msg">
            <small *ngIf="f['date_release'].errors?.['required']">Fecha de lanzamiento es obligatoria.</small>
          </div>
        </div>
        <div class="form-group">
          <label for="date_revision">Fecha de revisión</label>
          <input type="date" id="date_revision" formControlName="date_revision" />
          <div *ngIf="f['date_revision'].touched && f['date_revision'].invalid" class="error-msg">
            <small *ngIf="f['date_revision'].errors?.['required']">Fecha de revisión es obligatoria.</small>
          </div>
        </div>
      </div>
      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="goBack()">Cancelar</button>
        <button type="submit" class="btn-enviar" [disabled]="form.invalid">Guardar Cambios</button>
      </div>
    </form>
  </div>
</div>
